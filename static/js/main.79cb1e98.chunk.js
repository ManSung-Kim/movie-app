(this["webpackJsonpmovie-app"]=this["webpackJsonpmovie-app"]||[]).push([[0],{25:function(e,t,n){},26:function(e,t,n){},46:function(e,t){},48:function(e,t,n){"use strict";n.r(t);var i=n(2),o=n.n(i),s=n(15),c=n.n(s),r=(n(25),n.p,n(26),n(5)),a=n.n(r),l=n(6),u=n.n(l),d=n(16),p=n(17),h=n(18),v=n(20),m=n(19),g=(n(46),n(0));var b=function(e){Object(v.a)(n,e);var t=Object(m.a)(n);function n(e){var i;return Object(p.a)(this,n),(i=t.call(this,e)).state={data:[]},i.getMyData=Object(d.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,a.a.get("https://yts-proxy.now.sh/list_movies.json?sort_by=rating");case 3:t=(t=e.sent).data.data.movies,e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:return e.prev=10,console.log("data is "+JSON.stringify(t)),i.setState({data:t}),e.finish(10);case 14:case"end":return e.stop()}}),e,null,[[0,7,10,14]])}))),console.log("device ctor"),console.log(e.isMobile),i}return Object(h.a)(n,[{key:"componentDidMount",value:function(){console.log("in componentDidMount"),this.getMyData()}},{key:"componentDidUpdate",value:function(){console.log("in componentDidUpdate")}},{key:"componentWillUnmount",value:function(){console.log("in componentWillUnmount")}},{key:"getYutubeUrl",value:function(e){return"https://www.youtube.com/results?search_query=movie+"+e}},{key:"getRateString",value:function(e){var t,n,i=parseInt(e/2);for(t=0;t<i;t++)n+="\u2b50";return n+="\u2606"}},{key:"handleScroll",value:function(){document.querySelectorAll(".up-on-scroll").forEach((function(e){!function(e,t){return e.getBoundingClientRect().top>window.innerHeight+(t||0)}(e,-20)?(e.style.opacity=1,e.style.transform="translateY(0px)"):(e.style.opacity="0",e.style.transform="translateY(70px)")}))}},{key:"render",value:function(){var e=this;return console.log("is "+JSON.stringify(this.state.data)),console.log("ismobile? "+this.props.isMobile),window.addEventListener("scroll",this.handleScroll),Object(g.jsx)("div",{class:"movies",children:this.state.data.map((function(t){return Object(g.jsxs)("div",{class:(e.props.isMobile?"movie_mobile":"movie")+" up-on-scroll",children:[Object(g.jsx)("a",{class:"movielink",href:e.getYutubeUrl(t.title),target:"_blink",children:Object(g.jsx)("img",{class:"movieposter",src:t.medium_cover_image,loading:"lazy",alt:t.title,title:t.title})}),Object(g.jsxs)("div",{class:"moviesummary",children:[Object(g.jsx)("h1",{children:t.title}),Object(g.jsx)("h4",{children:e.getRateString(t.rating)}),Object(g.jsx)("h4",{children:t.year}),Object(g.jsx)("div",{class:"moviesynopsis",children:Object(g.jsx)("p",{children:t.synopsis})})]})]})}))})}}]),n}(i.Component),j=n(3);var y=function(){var e=Object(j.useMediaQuery)({query:"(min-width:1024px)"}),t=Object(j.useMediaQuery)({query:"(min-width:768px) and (max-width:1023px)"}),n=Object(j.useMediaQuery)({query:"(max-width:767px)"});return window.addEventListener("scroll",(function(e){var t=document.querySelector(".background-change-wrap"),n=document.querySelector(".background-change-wrap > div"),i=t.getBoundingClientRect(),o=i.top;i.height;if(console.log(o),o<0){var s=-1*o/4;n.style.opacity="".concat((100-s/5)/100),document.querySelector(".background-change-wrap > div > img").src="https://yts.mx/assets/images/movies/The_Shawshank_Redemption_1994/medium-cover.jpg"}else n.style.filter="none",n.style.opacity="1"})),Object(g.jsxs)("div",{children:[Object(g.jsx)("div",{class:"responsivestate",children:function(){var i="Device is ";return i+=e?"PC":t?"Tablet":n?"Mobile":"unknown"}()}),Object(g.jsxs)("div",{class:"container",children:[Object(g.jsx)("div",{class:"background-change-wrap",children:Object(g.jsx)("div",{children:Object(g.jsx)("img",{name:"img-buffer-1"})})}),Object(g.jsx)(b,{isMobile:n})]})]})},f=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,49)).then((function(t){var n=t.getCLS,i=t.getFID,o=t.getFCP,s=t.getLCP,c=t.getTTFB;n(e),i(e),o(e),s(e),c(e)}))};c.a.render(Object(g.jsx)(o.a.StrictMode,{children:Object(g.jsx)(y,{})}),document.getElementById("root")),f()}},[[48,1,2]]]);
//# sourceMappingURL=main.79cb1e98.chunk.js.map