(this["webpackJsonpmovie-app"]=this["webpackJsonpmovie-app"]||[]).push([[0],{25:function(e,t,n){},26:function(e,t,n){},46:function(e,t){},48:function(e,t,n){"use strict";n.r(t);var o=n(2),i=n.n(o),c=n(15),a=n.n(c),s=(n(25),n.p,n(26),n(5)),r=n.n(s),l=n(6),u=n.n(l),d=n(16),g=n(17),p=n(18),v=n(20),b=n(19),m=(n(46),n(0));var h=function(e){Object(v.a)(n,e);var t=Object(b.a)(n);function n(e){var o;return Object(g.a)(this,n),(o=t.call(this,e)).state={data:[]},o.getMyData=Object(d.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,r.a.get("https://yts-proxy.now.sh/list_movies.json?sort_by=rating");case 3:t=(t=e.sent).data.data.movies,e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:return e.prev=10,console.log("data is "+JSON.stringify(t)),o.setState({data:t}),e.finish(10);case 14:case"end":return e.stop()}}),e,null,[[0,7,10,14]])}))),console.log("device ctor"),console.log(e.isMobile),o}return Object(p.a)(n,[{key:"componentDidMount",value:function(){console.log("in componentDidMount@Movie.js"),this.getMyData()}},{key:"componentDidUpdate",value:function(){console.log("in componentDidUpdate@Movie.js")}},{key:"componentWillUnmount",value:function(){console.log("in componentWillUnmount@Movie.js")}},{key:"getYutubeUrl",value:function(e){return"https://www.youtube.com/results?search_query=movie+"+e}},{key:"getRateString",value:function(e){var t,n,o=parseInt(e/2);for(t=0;t<o;t++)n+="\u2b50";return n+="\u2606"}},{key:"handleScroll",value:function(){document.querySelectorAll(".up-on-scroll").forEach((function(e){!function(e,t){return e.getBoundingClientRect().top>window.innerHeight+(t||0)}(e,-20)?(e.style.opacity=1,e.style.transform="translateY(0px)"):(e.style.opacity="0",e.style.transform="translateY(70px)")}))}},{key:"render",value:function(){var e=this;return console.log("is "+JSON.stringify(this.state.data)),console.log("ismobile? "+this.props.isMobile),window.addEventListener("scroll",this.handleScroll),Object(m.jsx)("div",{class:"movies",children:this.state.data.map((function(t){return Object(m.jsxs)("div",{class:(e.props.isMobile?"movie_mobile":"movie")+" up-on-scroll",children:[Object(m.jsx)("a",{class:"movielink",href:e.getYutubeUrl(t.title),target:"_blink",children:Object(m.jsx)("img",{class:"movieposter",src:t.medium_cover_image,loading:"lazy",alt:t.title,title:t.title})}),Object(m.jsxs)("div",{class:"moviesummary",children:[Object(m.jsx)("h1",{children:t.title}),Object(m.jsx)("h4",{children:e.getRateString(t.rating)}),Object(m.jsx)("h4",{children:t.year}),Object(m.jsx)("div",{class:"moviesynopsis",children:Object(m.jsx)("p",{children:t.synopsis})})]})]})}))})}}]),n}(o.Component),j=n(3);var f=function(){Object(o.useEffect)((function(){window.addEventListener("scroll",a),console.log("like didMount HOOK@app.js"),c(1),i(!0)}),[]),Object(o.useEffect)((function(){console.log("like didMount or didUpdate HOOK@app.js")})),Object(o.useEffect)((function(){return console.log("like didUnmount HOOK@app.js"),function(){}}));var e=Object(j.useMediaQuery)({query:"(min-width:1024px)"}),t=Object(j.useMediaQuery)({query:"(min-width:768px) and (max-width:1023px)"}),n=Object(j.useMediaQuery)({query:"(max-width:767px)"}),i=function(e){var t=document.querySelector(".gradient-border");e?(t.backgroundImage="linear-gradient(60deg, #000000, #9b9bda, #a9a9a9, #a9a9a9, #a9a9a9)",console.log(e+"vis "+t.backgroundImage)):t.backgroundImage="linear-gradient(60deg, #000000)",console.log(e+"vis "+t.backgroundImage)},c=function(e){document.querySelector(".background-change-wrap > div").style.opacity=e},a=function(e){var t,n=document.querySelector(".background-change-wrap").getBoundingClientRect(),o=n.top,a=(n.height,"1");if(o<0){var s=-1*o/4;null!=(t="https://yts.mx/assets/images/movies/The_Shawshank_Redemption_1994/medium-cover.jpg")&&(document.querySelector(".background-change-wrap > div > img").src=t),a="".concat((100-s/5)/100)}else a="1";c(a),i(!1)};return Object(m.jsxs)("div",{children:[Object(m.jsx)("div",{class:"responsivestate",children:function(){var o="Device is ";return o+=e?"PC":t?"Tablet":n?"Mobile":"unknown"}()}),Object(m.jsxs)("div",{class:"container",children:[Object(m.jsx)("div",{class:"background-change-wrap gradient-border",children:Object(m.jsx)("div",{children:Object(m.jsx)("img",{name:"img-buffer-1"})})}),Object(m.jsx)(h,{isMobile:n})]})]})},y=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,49)).then((function(t){var n=t.getCLS,o=t.getFID,i=t.getFCP,c=t.getLCP,a=t.getTTFB;n(e),o(e),i(e),c(e),a(e)}))};a.a.render(Object(m.jsx)(i.a.StrictMode,{children:Object(m.jsx)(f,{})}),document.getElementById("root")),y()}},[[48,1,2]]]);
//# sourceMappingURL=main.cbcfacd2.chunk.js.map