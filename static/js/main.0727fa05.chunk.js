(this["webpackJsonpmovie-app"]=this["webpackJsonpmovie-app"]||[]).push([[0],{26:function(e,t,n){},27:function(e,t,n){},47:function(e,t){},49:function(e,t,n){"use strict";n.r(t);var o=n(2),i=n.n(o),c=n(15),s=n.n(c),a=(n(26),n(19)),r=(n.p,n(27),n(5)),l=n.n(r),u=n(6),d=n.n(u),m=n(16),g=n(17),v=n(18),j=n(21),p=n(20),b=(n(47),n(0));var h=function(e){Object(j.a)(n,e);var t=Object(p.a)(n);function n(e){var o;return Object(g.a)(this,n),(o=t.call(this,e)).state={data:[],recomm_movie:0},o.getMyData=Object(m.a)(d.a.mark((function e(){var t,n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,l.a.get("https://yts-proxy.now.sh/list_movies.json?sort_by=rating");case 3:t=(t=e.sent).data.data.movies,e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:return e.prev=10,console.log("data is "+JSON.stringify(t)),o.setState({data:t}),o.props.notifyInitialLoadingComplete(),n=t[0],o.setState({recomm_movie:n}),e.finish(10);case 17:case"end":return e.stop()}}),e,null,[[0,7,10,17]])}))),console.log("device ctor"),console.log(e.isMobile),o}return Object(v.a)(n,[{key:"componentDidMount",value:function(){console.log("in componentDidMount@Movie.js"),this.getMyData()}},{key:"componentDidUpdate",value:function(){console.log("in componentDidUpdate@Movie.js")}},{key:"componentWillUnmount",value:function(){console.log("in componentWillUnmount@Movie.js")}},{key:"getYutubeUrl",value:function(e){return"https://www.youtube.com/results?search_query=movie+"+e}},{key:"getRateString",value:function(e){var t,n,o=parseInt(e/2);for(t=0;t<o;t++)n+="\u2b50";return n+="\u2606"}},{key:"handleScroll",value:function(){document.querySelectorAll(".up-on-scroll").forEach((function(e){!function(e,t){return e.getBoundingClientRect().top>window.innerHeight+(t||0)}(e,-20)?(e.style.opacity=1,e.style.transform="translateY(0px)"):(e.style.opacity="0",e.style.transform="translateY(70px)")}))}},{key:"render",value:function(){var e=this;return console.log("is "+JSON.stringify(this.state.data)),console.log("ismobile? "+this.props.isMobile),window.addEventListener("scroll",this.handleScroll),Object(b.jsxs)("div",{class:"moviemain",children:[Object(b.jsx)("div",{class:"recomm_movie",children:Object(b.jsx)("div",{children:Object(b.jsx)("img",{class:"recomm_movie_poster",src:this.state.recomm_movie.large_cover_image})})}),Object(b.jsx)("div",{class:"movies",children:this.state.data.map((function(t){return Object(b.jsxs)("div",{class:(e.props.isMobile?"movie_mobile":"movie")+" up-on-scroll",children:[Object(b.jsx)("a",{class:"movielink",href:e.getYutubeUrl(t.title),target:"_blink",children:Object(b.jsx)("img",{class:"movieposter",src:t.medium_cover_image,loading:"lazy",alt:t.title,title:t.title})}),Object(b.jsxs)("div",{class:"moviesummary",children:[Object(b.jsx)("h1",{children:t.title}),Object(b.jsx)("h4",{children:e.getRateString(t.rating)}),Object(b.jsx)("h4",{children:t.year}),Object(b.jsx)("div",{class:"moviesynopsis",children:Object(b.jsx)("p",{children:t.synopsis})})]})]})}))})]})}}]),n}(o.Component),f=n(3);var O=function(){Object(o.useEffect)((function(){window.addEventListener("scroll",s),console.log("like didMount HOOK@app.js"),c(1),i(!0)}),[]),Object(o.useEffect)((function(){console.log("like didMount or didUpdate HOOK@app.js")})),Object(o.useEffect)((function(){return console.log("like didUnmount HOOK@app.js"),function(){}}));var e=Object(f.useMediaQuery)({query:"(min-width:1024px)"}),t=Object(f.useMediaQuery)({query:"(min-width:768px) and (max-width:1023px)"}),n=Object(f.useMediaQuery)({query:"(max-width:767px)"}),i=function(e){var t=document.querySelector(".gradient-border");null!=t&&(e?(t.backgroundImage="linear-gradient(60deg, #000000, #9b9bda, #a9a9a9, #a9a9a9, #a9a9a9)",console.log(e+"vis "+t.backgroundImage)):t.backgroundImage="linear-gradient(60deg, #000000)",console.log(e+"vis "+t.backgroundImage))},c=function(e){document.querySelector(".background-change-wrap > div").style.opacity=e},s=function(e){var t=document.querySelector(".background-change-wrap").getBoundingClientRect(),n=t.top,o=(t.height,"1");n<0?o="".concat((100- -1*n/4/5)/100):o="1";c(o),i(!1)},r=Object(o.useState)(!0),l=Object(a.a)(r,2),u=l[0],d=l[1];return Object(o.useEffect)((function(){console.log("us anim changed"+u)}),[u]),Object(b.jsxs)("div",{children:[Object(b.jsx)("div",{class:"responsivestate",children:function(){var o="Device is ";return o+=e?"PC":t?"Tablet":n?"Mobile":"unknown"}()}),Object(b.jsxs)("div",{class:"container",children:[Object(b.jsx)("div",{class:"background-change-wrap",children:Object(b.jsx)("div",{class:u?"gradient-border":"",children:Object(b.jsx)("img",{name:"img-buffer-1"})})}),Object(b.jsx)(h,{isMobile:n,notifyInitialLoadingComplete:function(){console.log("mv init noty"),i(!1),d((function(e){return!e}))}})]})]})},y=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,50)).then((function(t){var n=t.getCLS,o=t.getFID,i=t.getFCP,c=t.getLCP,s=t.getTTFB;n(e),o(e),i(e),c(e),s(e)}))};s.a.render(Object(b.jsx)(i.a.StrictMode,{children:Object(b.jsx)(O,{})}),document.getElementById("root")),y()}},[[49,1,2]]]);
//# sourceMappingURL=main.0727fa05.chunk.js.map